events
	GET GET
	POST POST
	PUT PUT
	DELETE DELETE
end

commands
	GETServiceDocument
	GETEntities
	GETEntity
	CreateEntity
	GETNavProperty
end

initial resource ServiceDocument
	item ServiceDocument
	view { GETServiceDocument }
	path "/"
	GET -> Flights
	GET -> Airports
	GET -> FlightSchedules
end

resource Flights
	collection Flight
	view { GETEntities }
	path "/Flights()"
	POST -> flight_Flights_created
	GET *-> flight id=flightID
end

resource flight
	item Flight
	view { GETEntity }
	path "/Flights({id})"
end

resource flight_Flights_created
	item Flight
	view { GETEntity }
	actions { CreateEntity }
	path "/Flights()"
end

resource Airports
	collection Airport
	view { GETEntities }
	path "/Airports()"
	POST -> airport_Airports_created
	GET *-> airport id=code
end

resource airport
	item Airport
	view { GETEntity }
	path "/Airports('{id}')"
end

resource airport_Airports_created
	item Airport
	view { GETEntity }
	actions { CreateEntity }
	path "/Airports()"
end

resource FlightSchedules
	collection FlightSchedule
	view { GETEntities }
	path "/FlightSchedules()"
	POST -> flightschedule_FlightSchedules_created
	GET *-> flightschedule id=flightScheduleID
	GET *-> flightschedule_departureAirport id=flightScheduleID, navproperty="departureAirport"
	GET *-> flightschedule_arrivalAirport id=flightScheduleID, navproperty="arrivalAirport"
end

resource flightschedule
	item FlightSchedule
	view { GETEntity }
	path "/FlightSchedules({id})"
	GET -> flightschedule_departureAirport id=flightScheduleID, navproperty="departureAirport"
	GET -> flightschedule_arrivalAirport id=flightScheduleID, navproperty="arrivalAirport"
end

resource flightschedule_arrivalAirport
	item Airport
	view { GETNavProperty navproperty=navproperty, entity=FlightSchedule }
	path "/FlightSchedules({id})/arrivalAirport"
end

resource flightschedule_departureAirport
	item Airport
	view { GETNavProperty navproperty=navproperty, entity=FlightSchedule }
	path "/FlightSchedules({id})/departureAirport"
end

resource flightschedule_FlightSchedules_created
	item FlightSchedule
	view { GETEntity }
	actions { CreateEntity }
	path "/FlightSchedules()"
end
